# Polyglot Server Configuration
port = 5050
threads = 4

# Directory paths
root = ./public
script_dir = ./scripts
database = ./data.db

# Runtime binaries (adjust paths for your system)
php_cgi = /usr/bin/php-cgi
node_bin = /usr/bin/node
ruby_bin = /usr/bin/ruby

# Route definitions with dynamic parameters
# Format: route <method> <pattern> <type> <target>
# Patterns support:
#   :param - required parameter
#   :param? - optional parameter  
#   * - wildcard
# Examples: /users/:id, /posts/:slug/comments/:commentId

# Python API with dynamic routing
route GET /api/users/:id python api/user.py
route PUT /api/users/:id python api/user.py
route DELETE /api/users/:id python api/user.py
route GET /api/posts/:slug python api/post.py
route GET /api/posts/:slug/comments/:commentId python api/comment.py

# Lua handlers with parameters
route GET /api/data/:table/:id lua handlers/crud.lua
route POST /api/query/:table lua handlers/query.lua

# PHP with dynamic routing
route GET /api/legacy/:resource/:id php legacy/api.php

# Node.js real-time endpoints
route GET /api/stream/:channel node services/stream.js

# Ruby admin routes
route GET /admin/:section/:id? ruby admin/panel.rb

# Static assets
route GET /assets/* static /assets/*
route GET / static /index.html

# Catch-all for SPA routing
route * /* static /index.html
